(this["webpackJsonpalgo-visualizer"]=this["webpackJsonpalgo-visualizer"]||[]).push([[0],{108:function(t,e,s){},109:function(t,e,s){},110:function(t,e,s){},111:function(t,e,s){},112:function(t,e,s){},127:function(t,e,s){"use strict";s.r(e);var a=s(0),i=s.n(a),n=s(48),l=s.n(n),r=(s(57),s(52));s(58);class o extends a.Component{render(){const{row:t,col:e,isFinish:s,isStart:a,onMouseDown:n,onMouseEnter:l,onMouseUp:r,isWall:o}=this.props,h=s?"node-finish":a?"node-start":o?"node-wall":"";return i.a.createElement("div",{id:"node-".concat(t,"-").concat(e),className:"node ".concat(h),onMouseDown:()=>n(t,e),onMouseEnter:()=>l(t,e),onMouseUp:()=>r()})}}function h(t,e,s){const a=[];e.distance=0;const i=f(t);for(;i.length;){i.sort((t,e)=>t.distance-e.distance);const e=i.shift();if(e===s)return a;if(!e.isWall){if(e.distance===1/0)return a;e.isVisited=!0,a.push(e),b(e,t)}}return a}function c(t,e,s){const a=[];let i=[];for(i.push(e);i.length;){const e=i.pop();if(e===s)return a;e.isWall||(e.isVisited=!0,a.push(e),i=i.concat(m(e,t)))}return a}function d(t,e,s){const a=[];let i=[];for(i.push(e);i.length;){const e=i.shift();if(e===s)return a;e.isWall||(e.isVisited=!0,a.push(e),i=i.concat(m(e,t)))}return a}function m(t,e){const s=[],a=[],{row:i,col:n}=t;i>0&&s.push(e[i-1][n]),i<e.length-1&&s.push(e[i+1][n]),n<e[0].length-1&&s.push(e[i][n+1]),n>0&&s.push(e[i][n-1]);for(let l=0;l<s.length;l++){const e=s[l];e.isVisited||(e.previousNode=t,e.isVisited=!0,a.push(e))}return a}function u(t,e,s){const a=[];e.distance=0,e.heuristic=0;const i=f(t);for(;i.length;){i.sort((t,e)=>t.distance+t.heuristic-(e.distance+e.heuristic));const e=i.shift();if(e===s)return a;if(!e.isWall){if(e.distance+e.heuristic===1/0)return a;e.isVisited=!0,a.push(e),g(e,t,s)}}return a}function g(t,e,s){const a=[],{row:i,col:n}=t;i>0&&a.push(e[i-1][n]),i<e.length-1&&a.push(e[i+1][n]),n>0&&a.push(e[i][n-1]),n<e[0].length-1&&a.push(e[i][n+1]);for(const l of a)l.isVisited||(l.distance=t.distance+1,l.heuristic=p(l,s),l.previousNode=t)}function p(t,e){let{row:s,col:a}=t,{row:i,col:n}=e;return Math.abs(s-i)+Math.abs(a-n)}function f(t){const e=[];for(const s of t)for(const t of s)e.push(t);return e}function b(t,e){const s=[],{row:a,col:i}=t;a>0&&s.push(e[a-1][i]),a<e.length-1&&s.push(e[a+1][i]),i>0&&s.push(e[a][i-1]),i<e[0].length-1&&s.push(e[a][i+1]);for(const n of s)n.isVisited||(n.distance=t.distance+1,n.previousNode=t)}function y(t){return e=0,s=t.length-1,Math.floor(Math.random()*(s-e+1)+e);var e,s}function E(t,e,s){let{row:a,col:i}=s,n=[{row:a+2,col:i},{row:a-2,col:i},{row:a,col:i+2},{row:a,col:i-2}];n=function(t,e){let s=t.length,a=t[0].length,i=[];for(let n=0;n<e.length;n++){let{row:t,col:l}=e[n];0<=t&&t<s&&0<=l&&l<a&&i.push(e[n])}return i}(t,n.slice());let l=[],r=[];return n.forEach(t=>{!function(t,e){let{row:s,col:a}=e;for(let i=0;i<t.length;i++){let{row:e,col:n}=t[i];if(s===e&&a===n)return!0}return!1}(e,t)?r.push(t):l.push(t)}),{c:l,u:r}}function x(t,e,s){let{row:a,col:i}=e,{row:n,col:l}=s;w(t,(a+n)/2,(i+l)/2,!1)}function w(t,e,s,a){const i={...t[e][s],isWall:a};t[e][s]=i}s(59);class v extends a.Component{constructor(t){super(t),this.state={grid:[],FR:7,FC:31,mouseIsPressed:!1,changingStart:!1,changingFinish:!1,visualized:!1,rendering:!1,numRow:17,numCol:37,SR:7,SC:5,speed:"median",delays:{slow:17,median:7,fast:3},currentAlgorithm:-1,algorithms:["BFS","Dijkstra","A Star","DFS"],pathfindingAlgorithms:[d,h,u,c]},this.visualizePathfinding=this.visualizePathfinding.bind(this),this.clearVisualizer=this.clearVisualizer.bind(this),this.setAlgorithm=this.setAlgorithm.bind(this),this.props.getFunctions(this.visualizePathfinding,this.clearVisualizer,this.setAlgorithm,this.state.algorithms)}setAlgorithm(t){this.setState({currentAlgorithm:t})}isRendering(){return this.state.rendering}componentDidMount(){const t=this.initializeGrid(!1);this.setState({grid:t,currentAlgorithm:-1}),this.state.grid=t}initializeGrid(t){const e=[];for(let s=0;s<this.state.numRow;s++){const a=[];for(let e=0;e<this.state.numCol;e++){let i=!1;const n=document.getElementById("node-".concat(s,"-").concat(e));!n||"node node-path"!==n.className&&"node node-visited"!==n.className||(n.className="node"),!t&&n&&"node node-wall"===n.className&&(i=!0),a.push(this.createNode(s,e,i))}e.push(a)}return e}createNode(t,e,s){return{col:e,row:t,isStart:t===this.state.SR&&e===this.state.SC,isFinish:t===this.state.FR&&e===this.state.FC,distance:1/0,heuristic:1/0,isVisited:!1,isWall:s,previousNode:null}}handleMouseDown(t,e){t===this.state.SR&&e===this.state.SC?this.setState({changingStart:!0}):t===this.state.FR&&e===this.state.FC?this.setState({changingFinish:!0}):this.state.rendering||(this.updateGridWithWall(this.state.grid,t,e),this.setState({mouseIsPressed:!0}),this.clearVisitedAndPath())}handleMouseEnter(t,e){if(this.state.mouseIsPressed)this.updateGridWithWall(this.state.grid,t,e),this.setState({mouseIsPressed:!0});else if(!this.state.changingStart||t===this.state.FR&&e===this.state.FC){if(this.state.changingFinish&&(t!==this.state.SR||e!==this.state.SC)){const s=document.getElementById("node-".concat(this.state.FR,"-").concat(this.state.FC));s&&(s.className="node",s.isFinish=!1,this.state.grid[this.state.FR][this.state.FC].isFinish=!1);const a=document.getElementById("node-".concat(t,"-").concat(e));a&&(a.isFinish=!0,a.className="node node-finish",this.state.grid[t][e].isFinish=!0),this.setState({FR:t,FC:e}),this.clearVisitedAndPath()}}else{const s=document.getElementById("node-".concat(this.state.SR,"-").concat(this.state.SC));s&&(s.className="node",s.isStart=!1,this.state.grid[this.state.SR][this.state.SC].isStart=!1);const a=document.getElementById("node-".concat(t,"-").concat(e));a&&(a.isStart=!0,a.className="node node-start",this.state.grid[t][e].isStart=!0),this.setState({SR:t,SC:e}),this.clearVisitedAndPath()}}handleMouseUp(){this.setState({changingStart:!1,changingFinish:!1,mouseIsPressed:!1})}updateGridWithWall(t,e,s){const a=t[e][s],i={...a,isWall:!a.isWall};t[e][s]=i}visualizePathfinding(){if(-1===this.state.currentAlgorithm)return;if(this.state.rendering)return;this.setState({visualized:!0,rendering:!0}),this.props.setVisualizerRendering(!0);let t=this.initializeGrid(!1);this.setState({grid:t}),this.state.grid=t;const e=this.state.grid,s=e[this.state.SR][this.state.SC],a=e[this.state.FR][this.state.FC],i=this.state.pathfindingAlgorithms[this.state.currentAlgorithm](e,s,a),n=function(t){const e=[];let s=t;for(;null!==s;)e.unshift(s),s=s.previousNode;return e}(a);for(let l=0;l<i.length;l++)setTimeout(()=>{const t=i[l];t.isStart||t.isFinish||(document.getElementById("node-".concat(t.row,"-").concat(t.col)).className="node node-visited")},this.state.delays[this.state.speed]*l);for(let l=0;l<n.length;l++)setTimeout(()=>{const t=n[l];t.isStart||t.isFinish||(document.getElementById("node-".concat(t.row,"-").concat(t.col)).className="node node-path")},this.state.delays[this.state.speed]*i.length+50*l);setTimeout(()=>{this.setState({rendering:!1}),this.props.setVisualizerRendering(!1)},this.state.delays[this.state.speed]*i.length+50*n.length)}clearVisualizer(){this.state.rendering||this.setState({grid:this.initializeGrid(!0),visualized:!1})}clearVisitedAndPath(){for(let t=0;t<this.state.numRow;t++)for(let e=0;e<this.state.numCol;e++){let s=document.getElementById("node-".concat(t,"-").concat(e));console.log(s),!s||"node node-visited"!==s.className&&"node node-path"!==s.className||(s.className="node")}}setSpeed(t){this.setState({speed:t})}render(){const t=this.state.grid;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"grid"},t.map((t,e)=>i.a.createElement("div",{key:e},t.map((t,e)=>{const{row:s,col:a,isFinish:n,isStart:l,isWall:r}=t;return i.a.createElement(o,{key:e,row:s,col:a,isStart:l,isFinish:n,isWall:r,mouseIsPressed:this.state.mouseIsPressed,onMouseDown:(t,e)=>this.handleMouseDown(t,e),onMouseEnter:(t,e)=>this.handleMouseEnter(t,e),onMouseUp:()=>this.handleMouseUp()})})))),i.a.createElement("div",{class:"dropdown",style:{marginTop:"10px"}},i.a.createElement("button",{class:"btn btn-outline-dark dropdown-toggle",type:"button",disabled:this.state.rendering,id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{marginRight:"5px",height:"30px",width:"150px"}},i.a.createElement("p",{style:{"margin-top":"-5px"}},"Speed: ".concat(this.state.speed))),i.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},i.a.createElement("li",null,i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setSpeed("slow")},i.a.createElement("p",{style:{"margin-top":"-5px"}},"slow")),i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setSpeed("median")},i.a.createElement("p",{style:{"margin-top":"-5px"}},"median")),i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setSpeed("fast")},i.a.createElement("p",{style:{"margin-top":"-5px"}},"fast")))),i.a.createElement("button",{onClick:()=>{!function(t){let e=t.length,s=t[0].length;for(let n=0;n<e;n++)for(let e=0;e<s;e++)w(t,n,e,!1);for(let n=0;n<e;n++)for(let e=n%2+1;e<s;e+=n%2+1)w(t,n,e,!0);for(let n=0;n<e;n++)w(t,n,0,!0);let a=[],i=[{row:7,col:17}];for(;i.length>0;){const e=y(i),s=i[e];i.splice(e,1),a=a.concat([s]);const{c:n,u:l}=E(t,a,s);if(n.length>0){let e=y(n);x(t,s,n[e]),n.splice(e)}i=i.concat(l)}}(this.state.grid),this.setState({finish:!1}),this.clearVisitedAndPath()},type:"button",class:"btn btn-outline-dark",style:{marginLeft:"5px",height:"30px"},disabled:this.state.rendering},i.a.createElement("p",{style:{"margin-top":"-6px"}},"generate maze"))))}}s(60),s(61);class S extends a.Component{render(){const{val:t,isChanging:e,isPivot:s,finished:a,index:n,size:l,colorSetIndex:r,changingColors:o=["rgb(228, 230, 120)","rgb(155, 147, 229)","rgb(248, 250, 140)"],offSet:h={small:20,median:0,large:0},normalColors:c=["rgb(200,".concat(255*(1-t/45)+50+h[l],", 255)"),"rgb(250,200, ".concat(255*(1-t/80)+h[l],")"),"rgb( ".concat(255*(1-t/80)+h[l],",200,250)")]}=this.props;let d="";e&&(d="-changing"),a&&(d="-finished");let m="-changing"===d?o[r]:c[r];!this.props.finished&&this.props.isPivot&&(m="rgb(240, 190, 149)");let u=-20*this.props.index,g={small:420,median:620,large:820};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"pile"+d,style:{height:"".concat(t*{small:14,median:10,large:8}[this.props.size],"px"),background:m}},i.a.createElement("p",{className:"value"},t),!this.props.finished&&this.props.isPivot&&i.a.createElement("svg",{height:"100",width:g[l]+100,style:{position:"absolute",display:"flex",marginTop:"-31px",marginLeft:"".concat(u,"px")}},i.a.createElement("line",{x1:"0",y1:"0",x2:g[l],y2:"0",style:{stroke:"grey",strokeWidth:"3px"}}))))}}function k(t,e,s){const a=t[e];t[e]=t[s],t[s]=a}function A(t){let e=[];for(let s=0;s<t.length-1;s++){let a=s;for(let n=s+1;n<t.length;n++){t[n]<t[a]&&(a=n);const s={piles:t.slice(),changing:[n]};e.push(s)}k(t,a,s);const i={piles:t.slice(),changing:[a,s]};e.push(i)}return e}function C(t){let e=[],s=t.length;for(;s>1;){let a=0;for(let i=1;i<s;i++)if(t[i-1]>t[i]){k(t,i-1,i),a=i;const s={piles:t.slice(),changing:[i]};e.push(s)}s=a}return e}function z(t){let e=[];for(let s=1;s<t.length;s++)for(let a=s;a>0&&t[a-1]>t[a];a--){k(t,a,a-1);const s={piles:t.slice(),changing:[a-1]};e.push(s)}return console.log(e),e}function F(t){let e=[];return function t(e,s,a,i){if(s===a)return;const n=Math.floor((s+a)/2);t(e,s,n,i),t(e,n+1,a,i),function(t,e,s,a,i){let n=e,l=e,r=s+1,o=t.slice();for(;l<=s&&r<=a;){o[l]<=o[r]?t[n++]=o[l++]:t[n++]=o[r++];const e={piles:t.slice(),changing:[l,r,n]};i.push(e)}for(;l<=s;){t[n++]=o[l++];const e={piles:t.slice(),changing:[l,n]};i.push(e)}for(;r<=a;){t[n++]=o[r++];const e={piles:t.slice(),changing:[r,n]};i.push(e)}}(e,s,n,a,i)}(t,0,t.length-1,e),e}function P(t){let e=[];return function t(e,s,a,i){if(s<a){let n=function(t,e,s,a){let i=t[s],n=e-1;for(let r=e;r<=s-1;r++)if(t[r]<i){n++,k(t,n,r);const e={piles:t.slice(),changing:[n,r],pivot:i};i!==t.length+4&&a.push(e)}k(t,n+1,s);const l={piles:t.slice(),changing:[n+1,s],pivot:i};i!==t.length+4&&a.push(l);return n+1}(e,s,a,i);t(e,s,n-1,i),t(e,n+1,a,i)}}(t,0,t.length-1,e),e}class M extends a.Component{constructor(t){super(t),this.state={piles:[],numPiles:30,finished:!1,maxPile:80,changingPiles:[],pileDelayTimes:[30,40,40,80,80],DelayTimesSizeBased:{fast:[15,20,20,40,40],median:[30,40,40,80,80],slow:[60,80,80,160,160]},colorSetIndex:I(0,3),currentAlgorithm:-1,descriptions:["Selection Sort: repeatedly find the minimum element from the unsorted part and append it to the sorted part.","Bubble Sort: repeatedly swap the adjacent elements if they are in wrong order.","Insertion Sort: repeatedly place value from the unsorted part at the correct position in the sorted part(by finding the closest left-side element that is smaller than it).","Merge Sort: divide the array into two halves, sort them recursively using merge sort, and then merge the two halves.","Quick Sort: choose an element as pivot, arrange the array such that the elements smaller than pivot are on its left and others are on its right, sort the two halves recursively."],unsortedPiles:[],speed:"median",size:"median",algorithms:["Selection Sort","Bubble Sort","Insertion Sort","Merge Sort","Quick Sort"],sortingAlgorithms:[A,C,z,F,P]},this.randomizePiles=this.randomizePiles.bind(this),this.visualizeSorting=this.visualizeSorting.bind(this),this.setAlgorithm=this.setAlgorithm.bind(this),this.props.getFunctions(this.visualizeSorting,this.randomizePiles,this.setAlgorithm,this.state.algorithms)}componentDidMount(){const t=this.initializePiles();this.setState({piles:t}),this.setState({piles:t,unsortedPiles:t.slice()})}setAlgorithm(t){this.state.unsortedPiles!==[]&&this.setState({finished:!1,changingPiles:[],piles:this.state.unsortedPiles,pivot:-1}),this.setState({currentAlgorithm:t})}initializePiles(){let t=[];for(let e=0;e<this.state.numPiles;e++)t.push(e+5);for(let e=0;e<this.state.numPiles;e++){let s=I(0,e),a=t[e];t[e]=t[s],t[s]=a}return t.push(this.state.numPiles+5),t}visualizeSorting(){if(-1===this.state.currentAlgorithm)return;if(this.state.rendering)return;this.state.finished&&(this.state.finished=!1,this.state.changingPiles=[],this.state.piles=this.state.unsortedPiles),this.setState({rendering:!0}),this.props.setVisualizerRendering(!0);const t=this.state.piles.slice(),e=this.state.sortingAlgorithms[this.state.currentAlgorithm](t);for(let s=0;s<e.length;s++){const{piles:t,changing:a,pivot:i}=e[s];setTimeout(()=>{this.setState({piles:t,changingPiles:a,pivot:i})},this.state.pileDelayTimes[this.state.currentAlgorithm]*s)}setTimeout(()=>{this.setState({rendering:!1,finished:!0}),this.props.setVisualizerRendering(!1)},this.state.pileDelayTimes[this.state.currentAlgorithm]*e.length)}randomizePiles(){if(this.state.rendering)return;this.setState({finished:!1,changingPiles:[],colorSetIndex:I(0,3)});const t=this.initializePiles();this.setState({piles:t,unsortedPiles:t.slice()})}setSpeed(t){this.setState({speed:t,pileDelayTimes:this.state.DelayTimesSizeBased[t]})}setSize(t){if(this.state.size===t)return;let e={small:20,median:30,large:40};this.setState({size:t,numPiles:e[t]}),this.state.numPiles=e[t];const s=this.initializePiles();this.setState({finished:!1,changingPiles:[],piles:s,unsortedPiles:s.slice()})}render(){const t=this.state.piles;let e=i.a.createElement("p",null,"Time Complexity: \u03b8(n\xb2)"),s=i.a.createElement("p",null,"Time Complexity: \u03b8(n\xb7log(n))");return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"piles",class:"container"},t.map((t,e)=>i.a.createElement(S,{dummy:e===this.state.numPiles,finished:this.state.finished,className:"pile",key:e,index:e,val:t,size:this.state.size,isChanging:-1!==this.state.changingPiles.indexOf(e),isPivot:this.state.pivot===t,colorSetIndex:this.state.colorSetIndex}))),i.a.createElement("div",{class:"d-flex",style:{marginLeft:"37%",marginTop:"10px"}},i.a.createElement("div",{class:"dropdown 1"},i.a.createElement("button",{class:"btn btn-outline-dark dropdown-toggle",type:"button",disabled:this.state.rendering,id:"dropdownMenuSpeed","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{marginRight:"5px",height:"30px",width:"150px"}},i.a.createElement("p",{style:{"margin-top":"-5px"}},"Speed: ".concat(this.state.speed))),i.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuSpeed"},i.a.createElement("li",null,i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setSpeed("slow")},i.a.createElement("p",{style:{"margin-top":"-5px"}},"slow")),i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setSpeed("median")},i.a.createElement("p",{style:{"margin-top":"-5px"}},"median")),i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setSpeed("fast")},i.a.createElement("p",{style:{"margin-top":"-5px"}},"fast"))))),i.a.createElement("div",{class:"dropdown 1"},i.a.createElement("button",{class:"btn btn-outline-dark dropdown-toggle",type:"button",disabled:this.state.rendering,id:"dropdownMenuSize","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{marginLeft:"5px",height:"30px",width:"150px"}},i.a.createElement("p",{style:{"margin-top":"-5px"}},"Size: ".concat(this.state.size))),i.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuSize"},i.a.createElement("li",null,i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setSize("small")},i.a.createElement("p",{style:{"margin-top":"-5px"}},"small")),i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setSize("median")},i.a.createElement("p",{style:{"margin-top":"-5px"}},"median")),i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setSize("large")},i.a.createElement("p",{style:{"margin-top":"-5px"}},"large")))))),i.a.createElement("h6",{class:"algoDescription"},-1===this.state.currentAlgorithm?"Welcome to Sorting. Select an algorithm first.":this.state.descriptions[this.state.currentAlgorithm]),i.a.createElement("h5",{class:"algoComplexity",style:{marginTop:"-4.5%",color:"rgb(90,90,90)"}},-1===this.state.currentAlgorithm?"":this.state.currentAlgorithm<3?e:s))}}function I(t,e){return Math.floor(Math.random()*e)+t}s(62);var T=s(2);class N{constructor(t,e){this.weights=new Array(t);for(let s=0;s<this.weights.length;s++)this.weights[s]=R(-1,1);this.alpha=e}train(t,e){let s=e-this.feedforward(t);for(let a=0;a<this.weights.length;a++)this.weights[a]+=this.alpha*s*t[a]}feedforward(t){let e=0;for(let s=0;s<this.weights.length;s++)e+=t[s]*this.weights[s];return this.activate(e)}activate(t){return t>0?1:-1}getWeights(){return this.weights}}function R(t,e){return Math.random()*(e-t)+t}s(108);class V extends a.Component{constructor(t){super(t),this.state={training:new Array(1002),rendering:!1,min:-1,max:1,width:500,height:500,count:0,ptron:null,xOff:50,yOff:100,M:.4,B:.3},this.resetVisualizer=this.resetVisualizer.bind(this),this.startVisualizer=this.startVisualizer.bind(this),this.props.getFunctions(this.startVisualizer,this.resetVisualizer)}f(t){return this.state.M*t+this.state.B}map(t,e,s,a,i){return(t-e)/(s-e)*(i-a)+a}initialize(){this.state.ptron=new N(3,.006);for(let t=0;t<this.state.training.length;t++){let e=R(this.state.min,this.state.max),s=R(this.state.min,this.state.max),a=1;s<this.f(e)&&(a=-1),this.state.training[t]={input:[e,s,1],output:a}}}resetVisualizer(){this.state.rendering||(this.setState({count:0}),this.state.count=0)}startVisualizer(){this.setState({rendering:!0});for(let t=0;t<this.state.training.length-1;t++)setTimeout(()=>{this.setState({count:t}),this.state.count=t},25*t);setTimeout(()=>{this.setState({rendering:!1})},25*this.state.training.length)}render(){0===this.state.count&&this.initialize();let t=this.state.min,e=this.state.max,s=this.state.ptron,a=this.map(t,t,e,0,this.state.width),n=this.map(this.f(t),t,e,this.state.height,0),l=this.map(e,t,e,0,this.state.width),r=this.map(this.f(e),t,e,this.state.height,0),o=s.getWeights(),h=t,c=(-o[2]-o[0]*h)/o[1],d=e,m=(-o[2]-o[0]*d)/o[1];h=this.map(h,t,e,0,this.state.width),c=this.map(c,t,e,this.state.height,0),d=this.map(d,t,e,0,this.state.width),m=this.map(m,t,e,this.state.height,0),s.train(this.state.training[this.state.count].input,this.state.training[this.state.count].output);let u=[];for(let i=0;i<this.state.count;i++){let a=s.feedforward(this.state.training[i].input),n=this.map(this.state.training[i].input[0],t,e,0,this.state.width),l=this.map(this.state.training[i].input[1],t,e,this.state.height,0);i%4>0&&u.push({x:n,y:l,fill:a<0})}let g,p=-o[0]/o[1],f=-o[2]/o[1],b=p-this.state.M,y=f-this.state.B;g=0!==this.state.count?i.a.createElement(i.a.Fragment,null,i.a.createElement(T.Text,{x:550,y:50,text:"Function Form: Y = M * X + B",fontFamily:"Calibri",fill:"black",fontSize:25}),i.a.createElement(T.Text,{x:550,y:80,text:"Original Function: M = ".concat(this.state.M," B = ").concat(this.state.B),fontFamily:"Calibri",fill:"black",fontSize:25}),i.a.createElement(T.Text,{x:550,y:135,text:"Approximation:\nM = ".concat(p,"\nB = ").concat(f),fontFamily:"Calibri",fill:"black",fontSize:25}),i.a.createElement(T.Text,{x:550,y:240,text:"Error:\nM: ".concat(b,"\nB:").concat(y),fontFamily:"Calibri",fill:"red",fontSize:25}),i.a.createElement(T.Text,{x:550,y:340,text:"Count: ".concat(this.state.count),fontFamily:"Calibri",fill:"grey",fontSize:25})):i.a.createElement(i.a.Fragment,null,i.a.createElement(T.Text,{x:550,y:50,text:"",fontFamily:"Calibri",fill:"black",fontSize:25}),i.a.createElement(T.Text,{x:550,y:80,text:"Original Function: M = ".concat(this.state.M," B = ").concat(this.state.B),fontFamily:"Calibri",fill:"black",fontSize:25}),i.a.createElement(T.Text,{x:550,y:135,text:"Approximation:\nM = ".concat(p,"\nB = ").concat(f),fontFamily:"Calibri",fill:"black",fontSize:25}),i.a.createElement(T.Text,{x:550,y:240,text:"Error:\nM: ".concat(b,"\nB:").concat(y),fontFamily:"Calibri",fill:"red",fontSize:25}),i.a.createElement(T.Text,{x:550,y:340,text:"Count: ".concat(this.state.count),fontFamily:"Calibri",fill:"grey",fontSize:25}));let E=u.map((t,e)=>i.a.createElement(T.Circle,{key:e,x:t.x+0,y:t.y+0,stroke:"black",radius:3,opacity:.7,fill:t.fill?"black":"white"}));return this.state.all=i.a.createElement(i.a.Fragment,null,i.a.createElement(T.Stage,{width:1e3,height:501,className:"ptron-stage",id:"stage"},i.a.createElement(T.Layer,{name:"layer",ref:t=>this.state.layer=t},i.a.createElement(T.Line,{points:[0,0,500,0],stroke:"black"}),i.a.createElement(T.Line,{points:[0,0,0,500],stroke:"black"}),i.a.createElement(T.Line,{points:[0,500,500,500],stroke:"black"}),i.a.createElement(T.Line,{points:[500,0,500,500],stroke:"black",strokeWidth:1}),i.a.createElement(T.Line,{points:[a+0,0+n,l+0,0+r],stroke:"red",strokeWidth:1}),i.a.createElement(T.Line,{points:[h+0,0+c,d+0,0+m],stroke:"blue",strokeWidth:this.state.count>0?1:0}),E,g))),this.state.all}}function B(t,e){let{x:s,y:a}=t,{x:i,y:n}=e;return Math.sqrt((s-i)*(s-i)+(a-n)*(a-n))}function D(t){return e=0,s=t.length-1,Math.floor(Math.random()*(s-e+1)+e);var e,s}var L=class{constructor(t,e,s,a){this.weights={min_dis_to_dot:0,dis_to_panel:0,num_dots:0},this.discount=e,this.epsilon=s,this.alpha=a,this.speed=t,this.featureList=["min_dis_to_dot","dis_to_panel","num_dots"]}getMove(t){return t*this.speed}minDisToDot(t,e,s){let a=1/0;for(const i of s){const s=B({x:t,y:e},i);s<a&&(a=s)}return a}getFeatures(t,e){let{dots:s,x:a,y:i,px:n,vx:l,vy:r,terminal:o}=t;n=n+this.getMove(e)+50;let h={min_dis_to_dot:0,dis_to_panel:0,num_dots:0};return h.min_dis_to_dot=this.minDisToDot(a,i,s)/Math.sqrt(662500),h.dis_to_panel=Math.abs(a-n)/600,h.num_dots=s.length/5,h}getQ(t,e){if(!t)return 0;let s=0;const a=this.getFeatures(t,e);for(const i of this.featureList)s+=this.weights[i]*a[i];return s}update(t,e,s,a){if(!e)return;const i=this.getFeatures(t,e),n=a+this.discount*this.getValue(s)-this.getQ(t,e);for(const l of this.featureList)this.weights[l]+=this.alpha*n*i[l]}setWeights(t){this.weights=t}actions(){return[-1,0,1]}getAction(t){if(!0===t.terminal)return null;const e=this.actions();if(s=this.epsilon,Math.random()<s){return e[D(e)]}return this.getPolicy(t);var s}getPolicy(t){const e=this.actions();let s=null,a=-1/0;for(const i of e)this.getQ(t,i)>a?(a=this.getQ(t,i),s=i):this.getQ(t,i)===a&&(s=D([i,s]));return s}getValue(t){return this.getQ(t,this.getPolicy(t))}};s(109);class _ extends a.Component{constructor(t){super(t),this.state={dots:[],rendering:!0,width:600,height:500,x:null,y:null,r:15,vx:0,vy:0,ballSpeed:3,panelx:0,panely:480,panelSpeed:3,ballInitialized:!1,framecount:0,score:0,pressedLeft:!1,pressedRight:!1,finished:!1,gameCount:-1,agent:new L(3,.9,.2,.2),notStarted:!0},this.resetVisualizer=this.resetVisualizer.bind(this),this.startVisualizer=this.startVisualizer.bind(this),this.props.getFunctions(this.startVisualizer,this.resetVisualizer)}startVisualizer(){this.setState({notStarted:!1}),this.setState({rendering:!1,ballInitialized:!1,framecount:0,score:0,finished:!1,gameCount:0,agent:new L(3,.9,.2,.2)}),this.componentDidMount()}resetVisualizer(){this.setState({rendering:!1,ballInitialized:!1,framecount:0,score:0,finished:!1,gameCount:0,notStarted:!0,agent:new L(3,.9,.2,.2)}),this.componentDidMount()}componentDidMount(){this.initialize()}initialize(){let t=this.state.ballSpeed,e=W(200,480),s=[t,-t,1.2*t,-1.2*t,.8*t,-.8*t][W(0,5)],a=t;this.setState({x:e,y:200,vx:s,vy:a,score:0,panelx:0,storedWeights:{},dots:[{x:100,y:100},{x:200,y:100},{x:300,y:100},{x:400,y:100},{x:500,y:100}],gameCount:this.state.gameCount+1}),this.state.x=e,this.state.y=200,this.state.vx=s,this.state.vy=a}getState(){const{dots:t,x:e,y:s,panelx:a,vx:i,vy:n}=this.state;return{dots:t,x:e,y:s,px:a,vx:i,vy:n,terminal:500===this.state.score||this.state.finished}}updatePanel(t){this.state.finished||this.movePanel(t)}updateBall(){if(this.state.finished)return;let{x:t,y:e,r:s,vx:a,vy:i,panelx:n}=this.state;if(0!==t||0!==e){if(t+=a,e+=i,(t>this.state.width-s-5||t<s+5)&&(a=-a),e<s+5&&(i=-i),e>this.state.panely-s-5&&e>this.state.panely-s+5&&Math.abs(n-t+50)<50)i=i>0?-i:i;else if(e>this.state.height-s&&Math.abs(n-t+50)>50)return this.setState({score:this.state.score-1e3}),this.initialize(),!1;return this.setState({x:t,y:e,vx:a,vy:i}),this.state.x=t,this.state.y=e,this.state.vx=a,this.state.vy=i,!0}}updateDots(){if(this.state.finished)return;let t=this.state.score;for(let e=0;e<this.state.dots.length;e++)G(this.state.dots[e],{x:this.state.x,y:this.state.y})<this.state.r&&(this.state.dots.splice(e,1),t+=100);this.setState({score:t})}movePanel(t){if(this.state.finished)return;let e=this.state.panelx,s=this.state.panelSpeed;-1===t?e-=s:1===t&&(e+=s),this.setState({panelx:Math.min(this.state.width-100,Math.max(0,e))})}render(){if(this.state.notStarted)return i.a.createElement(i.a.Fragment,null,i.a.createElement(T.Stage,{width:this.state.width,height:this.state.height,className:"pong-stage-notstarted",id:"pong stage"},i.a.createElement(T.Layer,null,i.a.createElement(T.Rect,{width:this.state.width,height:this.state.height,stroke:"black",fill:"black"}),i.a.createElement(T.Text,{x:200,y:200,text:"Press",fontFamily:"Calibri",fill:"white",fontSize:30}),i.a.createElement(T.Text,{x:275,y:200,text:"go",fontFamily:"Calibri",fill:this.state.goMouseEnter?"rgb(142, 228, 213)":"white",fontSize:30,onClick:()=>{this.setState({notStarted:!1})},onMouseEnter:()=>{this.setState({goMouseEnter:!0})},onMouseLeave:()=>{this.setState({goMouseEnter:!1})}}),i.a.createElement(T.Text,{x:315,y:200,text:"to start.",fontFamily:"Calibri",fill:"white",fontSize:30}))),i.a.createElement("div",{class:"pongDescription"},i.a.createElement("h4",{style:{marginTop:"0px",marginLeft:"650px","text-align":"left",fontFamily:"monospace"}},i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),'This is a simple illustration of Reinforcement Learning, "Apporixmate Q Learning" specifically.',i.a.createElement("br",null),i.a.createElement("br",null),'Our agent is given "vision" to current distance from the panel to the ball, distance from the ball to the nearest dot, and the number of dots remaining. The agent may try some random moves initially, and get "rewards"(positive score) and "punishments"(negative score) when eating the dots and dying.',i.a.createElement("br",null),i.a.createElement("br",null),'After some trials, our agent would appear to know that bouncing the ball back would eventually lead it to "rewards", and manage to do that to finally win the game (eating all 5 dots).')));let{min_dis_to_dot:t,dis_to_panel:e,num_dots:s}=this.state.agent.weights;this.notStarted||500===this.state.score||this.state.finished||(setTimeout(()=>{let t=this.state.agent;this.state.gameCount>10&&(t.training=!1);const e=this.getState(),s=t.getAction(e),a=this.state.score,i=this.state.gameCount;this.updateBall(),this.updateDots(),this.updatePanel(s);const n=this.getState(),l=10+this.state.score-a+-1e3*(this.state.gameCount-i);t.update(e,s,n,l),500===this.state.score&&this.setState({finished:!0}),this.state.framecount+=1},10*this.state.framecount),isNaN(t)||this.state.finished||(this.state.storedWeights={min_dis_to_dot:t,dis_to_panel:e,num_dots:s}));const{x:a,y:n}=this.state,l=this.state.dots;if(this.state.finished){let{min_dis_to_dot:t,dis_to_panel:e,num_dots:s}=this.state.storedWeights;return this.state.rendering&&(this.props.setVisualizerRendering(!1),this.state.rendering=!1),i.a.createElement(i.a.Fragment,null,i.a.createElement(T.Stage,{width:this.state.width,height:this.state.height,className:"pong-stage",id:"pong stage"},i.a.createElement(T.Layer,null,i.a.createElement(T.Rect,{width:this.state.width,height:this.state.height,stroke:"black",fill:"black"}),i.a.createElement(T.Text,{x:250,y:200,text:"Win!",fontFamily:"Calibri",fill:"white",fontSize:50}))),i.a.createElement("div",null,i.a.createElement("h4",{style:{marginTop:"0px",marginLeft:"700px","text-align":"left",fontFamily:"monospace"}},i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),"Your agent's weights:",i.a.createElement("br",null),i.a.createElement("div",{class:"w-text"},i.a.createElement("p",null,"w1: min distance to dot:",i.a.createElement("br",null),i.a.createElement("p",{class:"num"},t)),i.a.createElement("p",null,"w2: distance to between the ball and the panel:",i.a.createElement("br",null),i.a.createElement("p",{class:"num"},e)),i.a.createElement("p",null,"w3: number of dots remaining:",i.a.createElement("br",null),i.a.createElement("p",{class:"num"},s))))))}return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(T.Stage,{width:this.state.width,height:this.state.height,className:"pong-stage",id:"pong stage"},i.a.createElement(T.Layer,null,i.a.createElement(T.Rect,{width:this.state.width,height:this.state.height,stroke:"black",fill:"black"}),l.map((t,e)=>i.a.createElement(T.Circle,{key:e,x:t.x,y:t.y,stroke:"white",fill:"white",radius:5})),i.a.createElement(T.Circle,{x:a,y:n,radius:this.state.r,stroke:"white",fill:"white"}),i.a.createElement(T.Rect,{x:this.state.panelx,y:this.state.panely,width:100,height:10,stroke:"white",fill:"white"}),i.a.createElement(T.Text,{x:10,y:15,text:"Score: ".concat(this.state.score),fontFamily:"Calibri",fill:"white",fontSize:25})))),i.a.createElement("div",null,i.a.createElement("h4",{style:{marginTop:"0px",marginLeft:"700px","text-align":"left",fontFamily:"monospace",fontSize:"25px"}},i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),"Your agent's weights:",i.a.createElement("br",null),i.a.createElement("div",{class:"w-text"},i.a.createElement("p",null,"w1: min distance to dot:",i.a.createElement("br",null),i.a.createElement("p",{class:"num"},t)),i.a.createElement("p",null,"w2: distance to between the ball and the panel:",i.a.createElement("br",null),i.a.createElement("p",{class:"num"},e)),i.a.createElement("p",null,"w3: number of dots remaining:",i.a.createElement("br",null),i.a.createElement("p",{class:"num"},s))))))}}function W(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function G(t,e){let{x:s,y:a}=t,{x:i,y:n}=e;return Math.sqrt((s-i)*(s-i)+(a-n)*(a-n))}var O=class{constructor(t,e){this.depth=t,0===e?(this.aiPiece="p2",this.humanPiece="p1"):(this.aiPiece="p1",this.humanPiece="p2")}getActions(t){let e=[];for(let s=0;s<t.length;s++)null===t[s][1]&&e.push(s);return e}getAction(t){let e=this.getActions(t),s=-1/0,a=null;t=t.map(t=>t.slice());for(const i of e){const e=t.map(t=>t.slice());let n=this.minimax(this.tryMove(i,e,this.aiPiece),!1,-1/0,1/0,this.depth);(s<n||null===a)&&(s=n,a=i),s===n&&3===i&&(a=i),console.log(i,n)}return a}tryMove(t,e,s){let a=e[t].reverse();return a[a.indexOf(null)]=s,a.reverse(),e}count(t,e){let s=0;for(const a of t)a===e&&s++;return s}scoreFour(t,e,s,a){const i=[t,e,s,a],n=this.count(i,this.humanPiece),l=this.count(i,null),r=this.count(i,this.aiPiece);return 4===l||n>0&&r>0?0:4===n?-1e23:4===r?1e23:0===n?Math.pow(10*r,r):0===r?-Math.pow(10*n,n):0}getScore(t){let e=0;for(let s=0;s<7;s++)for(let a=1;a<4;a++){e+=this.scoreFour(t[s][a],t[s][a+1],t[s][a+2],t[s][a+3])}for(let s=0;s<4;s++)for(let a=1;a<7;a++){e+=this.scoreFour(t[s][a],t[s+1][a],t[s+2][a],t[s+3][a])}for(let s=0;s<4;s++)for(let a=1;a<4;a++){e+=this.scoreFour(t[s][a],t[s+1][a+1],t[s+2][a+2],t[s+3][a+3])}for(let s=3;s<7;s++)for(let a=1;a<4;a++){e+=this.scoreFour(t[s][a],t[s-1][a+1],t[s-2][a+2],t[s-3][a+3])}return e}minimax(t,e,s,a,i){if(Y(t=t.map(t=>t.slice()))||0===i){return this.getScore(t)}let n=this.getActions(t);if(e){let e=-1/0;for(const l of n){const n=t.map(t=>t.slice());if(e=Math.max(e,this.minimax(this.tryMove(l,n,this.aiPiece),!1,s,a,i-1)),e>=a)return e;s=Math.max(s,e)}return e}{let e=1/0;for(const l of n){const n=t.map(t=>t.slice());if(e=Math.min(e,this.minimax(this.tryMove(l,n,this.humanPiece),!0,s,a,i-1)),e<=s)return e;a=Math.min(a,e)}return e}}};s(110);function j(t){return i.a.createElement("div",{className:0===t.id?"virtual-piece":"piece"},i.a.createElement("div",{className:(0===t.id?"v":"")+"".concat(t.val)+(t.finished&&null!==t.val?"finished":"")}))}function q(t){return i.a.createElement("div",{className:"col",onClick:()=>t.handleClick(),onMouseEnter:()=>t.handleEnter(),onMouseLeave:()=>t.handleLeave()},[...Array(t.pieces.length)].map((e,s)=>i.a.createElement(j,{key:s,val:t.pieces[s],id:s,finished:t.finished})))}class U extends a.Component{constructor(t){super(t),this.state={currentPlayer:0,aiPlayer:1,humanPlayer:0,humanPiece:"p1",board:new Array(7).fill(new Array(7).fill(null)),lastBoards:[],colors:["p1","p2"],winner:null,depth:4,minimaxAgent:new O(4,0)},this.reset=this.reset.bind(this),this.props.getFunctions(()=>{},this.reset)}reset(){this.setState({currentPlayer:0,board:new Array(7).fill(new Array(7).fill(null)),lastBoards:[],colors:["p1","p2"],winner:null})}undo(){this.state.lastBoards.length&&this.setState({board:this.state.lastBoards.pop(),currentPlayer:this.state.humanPlayer})}setStartingPlayer(t){"human"===t?this.setState({aiPlayer:1,humanPlayer:0,humanPiece:"p1",minimaxAgent:new O(this.state.depth,0)}):this.setState({aiPlayer:0,humanPlayer:1,humanPiece:"p2",minimaxAgent:new O(this.state.depth,1)}),this.reset()}setDepth(t){this.setState({depth:t,minimaxAgent:new O(t,this.state.humanPlayer)})}handleClick(t){this.state.currentPlayer!==this.state.aiPlayer&&(this.state.winner||(this.state.lastBoards.push(this.state.board.map(t=>t.slice())),this.move(t)))}AITakeMove(){if(null===Y(this.state.board)&&this.state.currentPlayer===this.state.aiPlayer){const t=this.state.board.map(t=>t.slice()),e=this.state.minimaxAgent.getAction(t);this.move(e)}}handleEnter(t){if(this.state.currentPlayer===this.state.aiPlayer)return;const e=this.state.board.map(t=>t.slice());e[t][0]=this.state.colors[this.state.currentPlayer];for(let s=0;s<e.length;s++)s!==t&&(e[s][0]=null);this.setState({board:e})}handleLeave(t){const e=this.state.board.map(t=>t.slice());e[t][0]=null,this.setState({board:e})}move(t){const e=this.state.board.map(t=>t.slice());if(e[t].slice(1,7).indexOf(null)>=0){let s=e[t].reverse();s[s.indexOf(null)]=this.state.colors[this.state.currentPlayer],s.reverse(),6===this.state.depth?e[t][0]=null:this.state.currentPlayer===this.state.humanPlayer&&(e[t][0]=this.state.colors[this.state.currentPlayer]),this.setState({currentPlayer:Math.abs(this.state.currentPlayer-1),board:e})}}componentDidMount(){0===this.state.aiPlayer&&this.AITakeMove()}componentDidUpdate(){const t=this.state.board.map(t=>t.slice());let e=Y(t);if(this.state.winner!==e){for(let e=0;e<t.length;e++)t[e][0]=null;this.setState({winner:e,board:t})}setTimeout(()=>this.AITakeMove(),200)}render(){let t=i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{style:{position:"absolute",marginTop:"460px",marginLeft:"100px",height:"30px",width:"130px"},onClick:()=>this.setStartingPlayer(1===this.state.aiPlayer?"ai":"human"),type:"button",class:"btn btn-outline-dark"},i.a.createElement("p",{style:{"margin-top":"-5px"}},"offensive: ".concat(1===this.state.aiPlayer?"you":"ai"))),i.a.createElement("button",{style:{position:"absolute",marginTop:"460px",marginLeft:"240px",height:"30px",width:"100px"},onClick:()=>this.undo(),type:"button",class:"btn btn-outline-dark"},i.a.createElement("p",{style:{"margin-top":"-5px"}},"undo")),i.a.createElement("div",{class:"dropdown"},i.a.createElement("button",{class:"btn btn-outline-dark dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{position:"absolute",marginTop:"460px",marginLeft:"-130px",height:"30px",width:"130px"}},i.a.createElement("p",{style:{"margin-top":"-5px"}},"Depth: ".concat(this.state.depth))),i.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},i.a.createElement("li",null,i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setDepth(2)},i.a.createElement("p",{style:{"margin-top":"-5px"}},"Depth: 2")),i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setDepth(4)},i.a.createElement("p",{style:{"margin-top":"-5px"}},"Depth: 4")),i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",style:{height:"30px"},onClick:()=>this.setDepth(6)},i.a.createElement("p",{style:{"margin-top":"-5px"}},"Depth: 6"))))));if(this.state.winner){let e=[...Array(this.state.board.length)].map((t,e)=>i.a.createElement(q,{key:e,pieces:this.state.board[e],handleClick:()=>{},handleEnter:()=>{},handleLeave:()=>{},finished:!0}));return i.a.createElement("div",null,i.a.createElement("div",{className:"game"},i.a.createElement("div",{className:"board"},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"col"}),e)),t),i.a.createElement("h1",{style:{position:"relative",marginTop:"-170px"}},"tie"===this.state.winner?"Tie":"Winner: ".concat(this.state.winner===this.state.humanPiece?"You":"AI")))}let e=[...Array(this.state.board.length)].map((t,e)=>i.a.createElement(q,{key:e,pieces:this.state.board[e],handleClick:()=>this.handleClick(e),handleEnter:()=>this.handleEnter(e),handleLeave:()=>this.handleLeave(e),finished:!1}));if(this.state.currentPlayer===this.state.aiPlayer){let t=document.getElementById("loadingImgT");t&&(t.className="loadingImgN")}else{let t=document.getElementById("loadingImgT");t&&(t.className="loadingImgT")}return i.a.createElement("div",null,i.a.createElement("div",{className:"game"},i.a.createElement("div",{className:"board"},e),t,i.a.createElement("img",{id:"loadingImgT",className:"loadingImgT",src:"https://linkpicture.com/q/Double-Ring-1s-200px-2.gif",height:"100px",width:"100px",style:{marginLeft:"10px",position:"absolute",zIndex:0},alt:!0}),";",i.a.createElement("div",null,i.a.createElement("h5",{class:"connectFourDes",style:{position:"absolute",marginTop:"160px",marginLeft:"30px",textAlign:"left"}},'This is a chess game known as "Connect Four", which you',i.a.createElement("br",null),"will need to connect four pieces to win (accept diagonals). ",i.a.createElement("br",null),'The game has "gravity", so wherever you put the pieces, ',i.a.createElement("br",null),'they would "drop" down to the bottom.',i.a.createElement("br",null),i.a.createElement("br",null),'You are competing with a "Minimax" AI with alpha-beta pruning.',i.a.createElement("br",null),"Basically, it will search possible future states of the game",i.a.createElement("br",null),"and choose the action that it think is best at the current state",i.a.createElement("br",null),"each time. ",i.a.createElement("br",null),i.a.createElement("br",null),"It is not a perfect player for this game, so try your best to",i.a.createElement("br",null),'beat it by your "humanity"! ',i.a.createElement("br",null),i.a.createElement("br",null),"(Depth 6 is quite slow, please wait patiently.)"))))}}function Q(t,e,s,a){return null!==t&&t===e&&t===s&&t===a}function Y(t){for(let e=0;e<7;e++)for(let s=1;s<5;s++)if(Q(t[e][s],t[e][s+1],t[e][s+2],t[e][s+3]))return t[e][s];for(let e=0;e<4;e++)for(let s=1;s<7;s++)if(Q(t[e][s],t[e+1][s],t[e+2][s],t[e+3][s]))return t[e][s];for(let e=0;e<4;e++)for(let s=1;s<5;s++)if(Q(t[e][s],t[e+1][s+1],t[e+2][s+2],t[e+3][s+3]))return t[e][s];for(let e=3;e<7;e++)for(let s=1;s<5;s++)if(Q(t[e][s],t[e-1][s+1],t[e-2][s+2],t[e-3][s+3]))return t[e][s];for(let e=0;e<7;e++)if(t[e].slice(1,7).indexOf(null)>=0)return null;return"tie"}s(111);class J extends a.Component{render(){const{row:t,col:e,type:s}=this.props;return i.a.createElement("div",{id:"snakeNode-".concat(t,"-").concat(e),className:"snakeNode-".concat(this.props.type)})}}class K extends a.Component{constructor(t){super(t),this.state={grid:[],numRows:30,numCols:30,snake:[{row:15,col:15,type:"snake"},{row:16,col:15,type:"snake"},{row:17,col:15,type:"snake"}],direction:{dr:1,dc:0},foodPos:null,foodScore:0}}randomFood(){return{randomRow:H(this.state.numRows),randomCol:H(this.state.numCols)}}setFoodClassName(t,e){let s=document.getElementById("snakeNode-".concat(t,"-").concat(e));s&&(s.className="snakeNode-food")}componentDidMount(){let t=[];for(let e=0;e<this.state.numRows;e++){let s=[];for(let t=0;t<this.state.numCols;t++){let a={row:e,col:t,type:"null"};s.push(a)}t.push(s)}this.showSnake(t,this.state.snake),this.setState({grid:t})}componentDidUpdate(){let t,e=this.state.grid.map(t=>t.slice()),{snake:s,lastNode:a}=this.updateSnake(),i=this.state.foodScore;this.checkFoodEaten(s)&&(t=this.randomFood(),i++,s.push(a)),this.update(e,s,t,i)}render(){let t=this.state.grid;return i.a.createElement("div",{className:"snakeGrid",style:{marginTop:"5%",marginLeft:"-65%"}},t.map((t,e)=>i.a.createElement("div",{key:e},t.map((t,e)=>{const{row:s,col:a,type:n}=t;return i.a.createElement(J,{key:e,row:s,col:a,type:n})}))))}}function H(t){return Math.floor(Math.random()*t)}s(112);class Z extends a.Component{constructor(t){super(t),this.state={currentAlgorithm:-1,algorithms:["Perceptron","Approximate Q","Minimax"],visualizeAI:()=>{},reset:()=>{}},this.state.reset=this.state.reset.bind(this.state),this.state.visualizeAI=this.state.visualizeAI.bind(this.state),this.getAIFunctions=this.getAIFunctions.bind(this),this.setAlgorithm=this.setAlgorithm.bind(this),this.props.getFunctions(()=>{this.state.visualizeAI()},()=>{this.state.reset()},this.setAlgorithm,this.state.algorithms)}componentDidMount(){this.newScript("https://s3-us-west-2.amazonaws.com/s.cdpn.io/499416/TweenLite.min.js"),this.newScript("https://s3-us-west-2.amazonaws.com/s.cdpn.io/499416/EasePack.min.js"),this.newScript("https://combinatronics.com/JasonFengGit/Visualizer/master/src/AIVisualizer/networkAnimation.js")}getAIFunctions(t,e){this.state.visualizeAI=()=>{t()},this.state.reset=()=>{e()},this.setState({visualizeAI:t})}setAlgorithm(t){this.setState({currentAlgorithm:t})}newScript(t){var e=document.createElement("script");e.src=t,document.body.appendChild(e)}render(){let t;switch(this.state.currentAlgorithm){case-1:t=i.a.createElement("div",null,i.a.createElement("div",{class:"textcontainer"},i.a.createElement("div",{class:"typewriter"},i.a.createElement("h1",null,"Welcome to the Future."))),i.a.createElement("div",{id:"large-header",class:"large-header",style:{marginTop:"-18em"}},i.a.createElement("canvas",{id:"demo-canvas"})));break;case 0:t=i.a.createElement(V,{setVisualizerRendering:this.props.setVisualizerRendering,getFunctions:this.getAIFunctions});break;case 1:t=i.a.createElement(_,{setVisualizerRendering:this.props.setVisualizerRendering,getFunctions:this.getAIFunctions});break;case 2:t=i.a.createElement(U,{setVisualizerRendering:this.props.setVisualizerRendering,getFunctions:this.getAIFunctions});break;case 3:t=i.a.createElement(K,{setVisualizerRendering:this.props.setVisualizerRendering,getFunctions:this.getAIFunctions})}return i.a.createElement("div",null,t)}}class X extends a.Component{constructor(t){super(t),this.state={mode:"main",rendering:!1,algorithms:[],currentAlgorithm:null,goFunction:()=>{},resetFunction:()=>{},setAlgorithm:()=>{},sortingClicked:!1,pathClicked:!1,AIClicked:!1,aicount:0},this.getFunctions=this.getFunctions.bind(this),this.changeRenderingState=this.changeRenderingState.bind(this)}changeRenderingState(t){this.setState({rendering:t})}getFunctions(t,e,s,a){this.state.goFunction=t,this.state.resetFunction=e,this.state.setAlgorithm=s,this.state.algorithms=a,this.setState({algorithms:a})}render(){let t=null;t="pathfinding"===this.state.mode?i.a.createElement(v,{setVisualizerRendering:this.changeRenderingState,getFunctions:this.getFunctions}):"sorting"===this.state.mode?i.a.createElement(M,{setVisualizerRendering:this.changeRenderingState,getFunctions:this.getFunctions}):"ai"===this.state.mode?i.a.createElement(Z,{count:this.state.aicount,setVisualizerRendering:this.changeRenderingState,getFunctions:this.getFunctions}):i.a.createElement("div",{class:"welbotron"},i.a.createElement("div",{class:"container welc"},i.a.createElement("h1",{class:"welcome"},"Hello, algorithms.",i.a.createElement("p",{class:"quote"},i.a.createElement(r.a,{interval:3800,springConfig:{stiffness:200},adjustingSpeed:300},i.a.createElement("p",{class:"quoteText"},'"An algorithm must be seen to be believed."'),i.a.createElement("p",{class:"quoteText"},'"Algorithms are central objects of study in Computer Science."'),i.a.createElement("p",{class:"quoteText"},'"Algorithms are apprehensible magics."'),i.a.createElement("p",{class:"quoteText"},'"An algorithm is like a recipe."'))),i.a.createElement("p",{class:"lead"},"This website might help you understand algorithms better by visualizing them."),i.a.createElement("p",{class:"secondline lead"},"Click on one of the categories below to visualize algorithms.")),i.a.createElement("a",{href:"#",class:"mainpage-b",onClick:()=>{this.state.rendering||(this.setState({mode:"pathfinding"}),this.setState({currentAlgorithm:null,pathClicked:!0}))},"data-toggle":this.state.pathClicked?"":"modal","data-target":"#pathIntroModal"},i.a.createElement("span",null),"PATH FINDING"),i.a.createElement("a",{href:"#",class:"mainpage-b",onClick:()=>{this.state.rendering||this.setState({mode:"sorting",currentAlgorithm:null,sortingClicked:!0})},"data-toggle":this.state.sortingClicked?"":"modal","data-target":"#sortingIntroModal"},i.a.createElement("span",null),"SORTING"),i.a.createElement("a",{href:"#",class:"mainpage-b",onClick:()=>{this.state.rendering||this.setState({mode:"ai",currentAlgorithm:null,AIClicked:!0})},"data-toggle":this.state.AIClicked?"":"modal","data-target":"#aiIntroModal"},i.a.createElement("span",null),"ARTIFICIAL INTELLIGENCE")));let e="";"main"===this.state.mode&&(e=" invisible");let s=this.state.algorithms;return i.a.createElement(i.a.Fragment,null,i.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light fixed-top bg-dark"},i.a.createElement("button",{onClick:()=>{this.state.rendering||this.setState({mode:"main"})},type:"button",class:"btn btn-dark navbtn",disabled:this.state.rendering},"Main"),i.a.createElement("button",{onClick:()=>{this.state.rendering||(this.setState({mode:"pathfinding",currentAlgorithm:null,pathClicked:!0}),this.state.setAlgorithm(-1))},type:"button",class:"btn btn-dark navbtn","data-toggle":this.state.pathClicked?"":"modal","data-target":"#pathIntroModal",disabled:this.state.rendering},"Pathfinding"),i.a.createElement("button",{onClick:()=>{this.state.rendering||(this.setState({mode:"sorting",currentAlgorithm:null,sortingClicked:!0}),this.state.setAlgorithm(-1))},type:"button",class:"btn btn-dark navbtn","data-toggle":this.state.sortingClicked?"":"modal","data-target":"#sortingIntroModal",disabled:this.state.rendering},"Sorting"),i.a.createElement("button",{onClick:()=>{this.state.rendering||(this.setState({mode:"ai",currentAlgorithm:null,AIClicked:!0}),this.state.setAlgorithm(-1))},type:"button",class:"btn btn-dark navbtn","data-toggle":this.state.AIClicked?"":"modal","data-target":"#aiIntroModal",disabled:this.state.rendering},"AI"),i.a.createElement("div",{class:"dropdown"+e},i.a.createElement("button",{class:"btn btn-secondary dropdown-toggle navbtn",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:this.state.rendering},null==this.state.currentAlgorithm?"Algorithms":this.state.currentAlgorithm),i.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},i.a.createElement("li",null,s.map((t,e)=>i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",onClick:()=>{this.state.setAlgorithm(e),this.setState({currentAlgorithm:this.state.algorithms[e]})}},t))))),i.a.createElement("div",{class:"dropdown"+e},i.a.createElement("button",{class:"btn btn-light dropdown-toggle navbtn",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:this.state.rendering},"Actions"),i.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},i.a.createElement("li",null,i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",onClick:()=>this.state.goFunction(),"data-toggle":null===this.state.currentAlgorithm?"modal":"","data-target":"#setAlgoModal",disabled:"ai"===this.state.mode&&"Minimax"===this.state.currentAlgorithm},"Go!"),i.a.createElement("button",{type:"button",class:"btn btn-light navbtn",onClick:()=>this.state.resetFunction()},"Reset"))))),i.a.createElement("div",{class:"modal fade",id:"setAlgoModal",role:"dialog"},i.a.createElement("div",{class:"modal-dialog"},i.a.createElement("div",{class:"modal-content"},i.a.createElement("div",{class:"modal-header"},i.a.createElement("h5",{class:"modal-title"},"No Algorithm Selected"),i.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal"},"\xd7")),i.a.createElement("div",{class:"modal-body-alert"},i.a.createElement("p",null,"Please select an algorithm first.")),i.a.createElement("div",{class:"modal-footer"},i.a.createElement("button",{type:"button",class:"btn btn-dark","data-dismiss":"modal",style:{width:"100px"}},"OK"))))),i.a.createElement("div",{class:"modal fade",id:"pathIntroModal",role:"dialog"},i.a.createElement("div",{class:"modal-dialog"},i.a.createElement("div",{class:"modal-content intro"},i.a.createElement("div",{class:"modal-header"},i.a.createElement("h5",{class:"modal-title"},"Pathfinding"),i.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal"},"\xd7")),i.a.createElement("div",{class:"modal-body intro"},i.a.createElement("p",null,'Pathfinding is generally the process of finding a route between two points. It is closely related to the shortest path problem in graph theory, which examines how to identify the "best" paths valued by different criteria (Ex. distance, cost, time consumption).'),i.a.createElement("p",null,"Pathfinding is also similar to Searching in some circumstances. For instance, we can use [breadth-first search] to find the shortest path in a grid world."),i.a.createElement("p",null,"In our scenario, the paths are valued by the number of cells they passed from START:",i.a.createElement("div",{class:"simg",width:"20",height:"20"}),"to the TARGET:",i.a.createElement("div",{class:"fimg",width:"20",height:"20"}),"."),i.a.createElement("p",null,"You may drag the START and TARGET icons to change their positions, and click on the blank nodes to add Walls."),i.a.createElement("p",null,"Now please choose a sorting algorithm and visualize it!"),i.a.createElement("p",{class:"tips"},"(after choosing an algorithm, click on the [Actions] button.)"),i.a.createElement("br",null),i.a.createElement("p",{class:"tips"},'Note: there could be multiple "best" paths, so paths generated by different algorithms may not be consistent.')),i.a.createElement("div",{class:"modal-footer"},i.a.createElement("button",{type:"button",class:"btn btn-dark","data-dismiss":"modal",style:{width:"100px"}},"OK"))))),i.a.createElement("div",{class:"modal fade",id:"sortingIntroModal",role:"dialog"},i.a.createElement("div",{class:"modal-dialog"},i.a.createElement("div",{class:"modal-content intro"},i.a.createElement("div",{class:"modal-header"},i.a.createElement("h5",{class:"modal-title"},"Sorting"),i.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal"},"\xd7")),i.a.createElement("div",{class:"modal-body intro"},i.a.createElement("p",null,"Sorting is a process of arranging an ordered sequence. It is a common operation in many applications."),i.a.createElement("p",null,"Common uses of sorted sequences are:",i.a.createElement("div",{class:"uses-list"},i.a.createElement("p",null,"\xb7lookup or search efficiently"),i.a.createElement("p",null,"\xb7merge sequences efficiently"),i.a.createElement("p",null,"\xb7process data in a defined order")),"Now please choose a sorting algorithm and visualize it!"),i.a.createElement("p",{class:"tips"},"(after choosing an algorithm, click on the [Actions] button.)")),i.a.createElement("div",{class:"modal-footer"},i.a.createElement("button",{type:"button",class:"btn btn-dark","data-dismiss":"modal",style:{width:"100px"}},"OK"))))),i.a.createElement("div",{class:"modal fade",id:"aiIntroModal",role:"dialog"},i.a.createElement("div",{class:"modal-dialog"},i.a.createElement("div",{class:"modal-content intro"},i.a.createElement("div",{class:"modal-header"},i.a.createElement("h5",{class:"modal-title"},"Artificial Intelligence"),i.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal"},"\xd7")),i.a.createElement("div",{class:"modal-body intro"},i.a.createElement("p",null,'Artificial intelligence (AI) is intelligence demonstrated by machines. Leading textbooks define the field as the study of "intelligent agents": any device that perceives its environment and takes actions that maximize its chance of successfully achieving its goals.'),i.a.createElement("p",null,"In this category, you will experience with powerful AI algorithms based on fundamental ideas. Please try to understand those ideas behind through the visualizations, and I would try my best to demonstrate those principles."),i.a.createElement("p",null," Now please choose an algorithm and begin your journey!")),i.a.createElement("div",{class:"modal-footer"},i.a.createElement("button",{type:"button",class:"btn btn-dark","data-dismiss":"modal",style:{width:"100px"}},"OK"))))),i.a.createElement("div",null,t))}}s(46),s(124);var $=s(50);var tt=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("meta",{charset:"utf-8"}),i.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),i.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css",integrity:"sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z",crossorigin:"anonymous"}),i.a.createElement("div",{className:"App"},i.a.createElement($.a,{basename:"lucasvoltera.github.io/"},i.a.createElement(X,null))),i.a.createElement("script",{src:"https://code.jquery.com/jquery-3.5.1.slim.min.js",integrity:"sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj",crossorigin:"anonymous"}),i.a.createElement("script",{src:"https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js",integrity:"sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN",crossorigin:"anonymous"}),i.a.createElement("script",{src:"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js",integrity:"sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV",crossorigin:"anonymous"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(tt,{class:"app"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(t=>{t.unregister()})},53:function(t,e,s){t.exports=s(127)},57:function(t,e,s){},58:function(t,e,s){},59:function(t,e,s){},60:function(t,e,s){},61:function(t,e,s){},62:function(t,e,s){}},[[53,1,2]]]);
//# sourceMappingURL=main.2b6840db.chunk.js.map